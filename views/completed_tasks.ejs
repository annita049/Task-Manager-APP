<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager</title>

    <!-- Bootstrap and Font Awesome CDN Links -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald&family=Poppins:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,700&display=swap" rel="stylesheet">

    <!-- Custom CSS Sheets -->

    <link rel="stylesheet" href="/CSS/home.css">

<!-- <link rel="stylesheet" href="CSS/home.css">
    <link rel="stylesheet" href="CSS/popup.css">
 -->
 
</head>
<body>
    <!-- Navbar -->
    <%- include('partials/topper') %>
    
    <div class="container-fluid">
        <div class="row">
            <%- include('partials/sidebar') %>

            <div class="col-10 px-5 pt-5">
                <div class="content-container">
                    <%- include('layouts/search_sort') %>
                    <div class="task-board">
                        <% if (tasks.length > 0) { %>
                            <% tasks.forEach(function(task) { %>
                                <div class="task-box">
                                    <div class="task-title"><%= task.title %></div>
                                    <div class="task-description"><%= task.description %></div>
                                    <div class="edit-delete-icons">
                                        <a id="updateTask-<%= task._id %>"><i class="fa-solid fa-pen"></i></a>
                                        <a id="deleteTask-<%= task._id %>"><i class="fas fa-trash-alt"></i></a>
                                    </div>
                                    <div class="task-footer">
                                        <span class="task-status" id="<%= task.status.toLowerCase() %>"> <%= task.status %></span>
                                        <span class="task-priority" id="<%= task.priority.toLowerCase() %>"> <%= task.priority %></span>
                                    </div>
                                </div>
                            <% }); %>
                        <% } else { %>
                            <div class="no-task-found">
                                <h2>No tasks available</h2>
                            </div>
                        <% } %>
                    </div>
                </div>  
            </div>
        </div>
    </div>
    <script src="/JS/active.js"></script>
    <script src="/JS/search.js"></script>
    <script src="/JS/sort.js"></script>
</body>
</html>
